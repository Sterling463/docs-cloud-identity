<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!ENTITY % common SYSTEM "../../common/common.ent">
%common;
]>
<section 
	xmlns="http://docbook.org/ns/docbook" 
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
	xml:id="Role_Based_Access_Control-d1e808">
	<?dbhtml stop-chunking?>
	<title>Roles and role assignments</title>
	<para>The Identity service provides different role types to simplify the access control
		configuration and management for Rackspace Cloud tenant and user accounts. <itemizedlist>
			<listitem>
				<para><xref linkend="Account-Users-d1e910"/> allow Service and Identity
					administrators to restrict access to services and capabilities within a service.
					These roles can only be assigned to customers by Service or Identity
					administrators. Service Managed roles must be created by Identity operations
					staff in the Identity service configuration. You cannot create them through the
					Identity service API.</para>
				<para>Service managed roles can be configured with the propagate attribute. When
					this attribute is set, roles held by Identity administrators and User managers
					are inherited automatically by all user accounts that the administrator creates
					and manages. </para>
			</listitem>
			<listitem>
				<para>
					<xref linkend="RBAC-roles"/>: The Role-based access control (RBAC) feature
					allows customers to create, manage, and assign roles to restrict access to Cloud
					services and capabilities to authorized users only. RBAC is an opt-in feature
					available to all customers. Account owners can activate RBAC by adding users to
					the account and assigning roles to users via the API, the Cloud Control Panel,
					or by calling Customer support.</para>
				<para>Administrators and customers with sufficient access rights can create, manage,
					and assign RBAC roles by using the <link xlink:href="Role_Calls.html">Role
						operations</link> available through the Identity service API.</para>
			</listitem>
		</itemizedlist>
	</para>
	<para>Roles can be configured with a global or product-specific scope.
		<itemizedlist>	
			<listitem>
				<para>Global roles such as <property>admin</property> and <property>observer</property> are
					effective for all products with the exception of the Identity service. The
					Identity service does not use global roles to make access control decisions
					within the Identity service. </para>
			</listitem>
			<listitem>
				<para>Product roles are effective for a specific product and are linked to the product through
					the role name. For example, the <property>dnsaas:admin</property> is the
					administrator role for the DNS service, and <property>Lbaas:observer</property>
					is the observer role for the Load Balancers service. Product roles are also
					called custom roles.</para>
			</listitem>
		</itemizedlist>
	</para>
	
	<!-- Include separate sections for Identity and RBAC role documentation -->
	
	<xi:include href="section-identity-roles.xml"/>
	<xi:include href="section-rbac-roles.xml"/>
	
	<!-- Assign roles -->
	<section xmlns="http://docbook.org/ns/docbook"
		xmlns:xi="http://www.w3.org/2001/XInclude"
		xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
		xml:id="section_assign_roles_3">
		<title>Assigning roles to account users</title>
		<para>The account owner, <literal>identity:user-admin</literal>) can create account users, 
			<literal>identity:default)</literal> on the account and then assign roles to 
			those users. The roles grant the account users specific permissions for accessing the 
			Cloud services and capabilities. Each account has only one account owner, and that role 
			is assigned by default to any Rackspace Cloud account when the account is created. Account 
			owners cannot hold any additional roles because they already have full access to all services 
			and capabilities.
		</para>
		<para>
			You can assign roles programmatically through the API or by using the Cloud Control panel
			interface.
		</para>
		<para>Use the following API operations to add account users and manage role assignments:</para>
		<itemizedlist condition="client">
			<listitem>
				<para>
					<link xlink:href="POST_addUser__v2.0_users_User_Calls.html">Add account user</link>
				</para>
			</listitem>
			<listitem>
				<para><link xlink:href="PUT_addUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls.html">Assign role to account users</link></para>
			</listitem>
			<listitem>
				<para><link xlink:href="DELETE_deleteUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls">Delete role from account user</link></para>
			</listitem>
		</itemizedlist>
		<itemizedlist condition="admin">
			<listitem>
				<para>
					<link xlink:href="POST_admin-addUser_v2.0_users_User_Calls.html">Add account user</link>
				</para>
			</listitem>
			<listitem>
				<para>
					<link xlink:href="PUT_addUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls.html">Assign role to account users</link>
				</para>
			</listitem>
			<listitem>
				<para>
					<link xlink:href="DELETE_deleteUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls.html">Delete user role</link>
				</para>
			</listitem>
		</itemizedlist>
		<para>For information about implementing RBAC by using the Cloud
			Control panel and other RBAC-related topics, see the
			following Rackspace Knowledge Center articles:</para>
		<itemizedlist>
			<listitem>
				<para>
					<link
						xlink:href="http://www.rackspace.com/knowledge_center/article/managing-role-based-access-control-rbac"
						>Managing Role-based access control through Cloud Control panel</link>
				</para>
			</listitem>
			<listitem>
				<para>
					<link
						xlink:href="http://www.rackspace.com/knowledge_center/article/getting-started-with-role-based-access-control-rbac-0">Getting Started with Role-based access control (RBAC)</link>
				</para>
			</listitem></itemizedlist>
	</section>
	<section xml:id="RBAC_Role_Conflict-dle808">
		<title>Resolving Conflicts Between RBAC Multiproduct (Global) vs. Custom (Product) Roles</title>
		<para>The account owner can set roles for both multiproduct and custom (product-specific) scope,
			and it is important to understand how any potential conflicts among these roles are
			resolved. When two roles appear to conflict, the role that provides the more
			extensive permissions takes precedence. Therefore, admin roles take precedence over
			observer roles, because admin roles provide more permissions. </para>
		<para>
			The following table shows two examples of how potential conflicts between user roles in the Control Panel are resolved:
		</para>
		<para>
			<informaltable rules="all">		
				<thead>
					<tr align="center">
						<td>Permission Configuration</td>
						<td>View of Permission in the Control Panel </td>
						<td>Can the User Perform Product Admin Functions in the Control Panel?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>User is assigned the following roles: multiproduct <emphasis role="bold">observer</emphasis> and product <emphasis
							role="bold">admin</emphasis></td>
						<td>Appears that the user has only the multiproduct <emphasis role="bold">observer</emphasis> role</td>
						<td>Yes, for specified product only. The user has the <emphasis role="bold">observer</emphasis> role for the rest of
							the products.</td>
					</tr>
					<tr>
						<td>User is assigned the following roles: multiproduct <emphasis role="bold">admin</emphasis> and product <emphasis
							role="bold">observer</emphasis></td>
						<td>Appears that the user has only the multiproduct <emphasis role="bold">admin</emphasis> role</td>
						<td>Yes, for all of the products. The specified product <emphasis role="bold">observer</emphasis> role is
							ignored.</td>
					</tr>
				</tbody>
			</informaltable>
		</para>
		<para>For information about using RBAC with specific products, see the 
			<link xlink:href="http://docs.rackspace.com/">API Developer Guide</link> for each product.</para>
		
	</section>
</section>
