<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
<!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v2.0/">
<!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v2.0/">
]>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="QuickStart-000">
        <title>Quick Start</title>
        <para> To authenticate, submit a <code>POST
            /v2.0/tokens</code> request, presenting valid
            Rackspace customer <emphasis>credentials</emphasis> in the
            message body to a Rackspace <emphasis>authentication
                endpoint</emphasis>. </para>
        <para>
            <emphasis role="bold">GET YOUR CREDENTIALS</emphasis>
        </para>
        <para> You can use either of two sets of credentials: <itemizedlist>
            <listitem>
                <para>your <code>username</code> and
                    <code>password</code></para>
            </listitem>
            <listitem>
                <para>your <code>username</code> and <code>API
                    key</code></para>
            </listitem>
        </itemizedlist>
        </para>
        <para> The <code>username</code> and <code>password</code> are
        the same credentials you use to log in to the Cloud Control
        Panel at <link xlink:href="http://mycloud.rackspace.com/"
            >http://mycloud.rackspace.com/</link>.  You can get your
        API key from the  you can use the Cloud Control Panel to
        obtain your <code>API key</code>. </para>
    <important>
        <para> Multiple users (account users) can be created for an
            account but, users created via the  <olink
                targetdoc="Identity-Developer-Guide"
                targetptr="POST_admin-addUser_v2.0_users_User_Calls"
                >Add user</olink>, API operation do not have access to
            the control panel.</para>
    </important>
        <para>
            <emphasis role="bold">CHOOSE YOUR AUTHENTICATION ENDPOINT</emphasis>
        </para>
        <para>
            Use the authentication endpoint for the region in which your account is based:
            <itemizedlist spacing="compact">
                <listitem>
                    <para> US-based accounts authenticate through
                        <link xlink:href="&ENDPOINT-US;">&ENDPOINT-US;</link>.</para>
                </listitem>
                <listitem>
                    <para> UK-based accounts authenticate through
                        <link xlink:href="&ENDPOINT-UK;">&ENDPOINT-UK;</link>.</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>
            <emphasis role="bold">SEND YOUR CREDENTIALS TO YOUR AUTHENTICATION
                ENDPOINT</emphasis>
        </para>
        <para> If you know your credentials and your authentication
            endpoint, and you can issue a <code>POST
                /v2.0/tokens</code> request in an API call, you have
            all the basic information you need to use the Rackspace
            Cloud Identity Service. 
        </para>
        <para> You can use <link xlink:href="http://curl.haxx.se/"
            >cURL</link> to try the authentication process in two
            steps: get a token; send the token to a service.<orderedlist>
                <listitem>
                    <para>Get an authentication token by providing
                        your username and either your API key or your
                        password. Here are examples of both
                        approaches:</para>
                    <para><emphasis>You can request a token by
                        providing your username and your API
                        key.</emphasis></para>
                    <para>
                        <literallayout class="monospaced">curl -X POST https://identity.api.rackspacecloud.com/v2.0/tokens -d
'{ "auth":{ "RAX-KSKEY:apiKeyCredentials":{ "username":"theUserName", "apiKey":"00a00000a000a0000000a000a00aaa0a" } } }' -H "Content-type: application/json"</literallayout>
                    </para>
                    <para><emphasis>You can request a token by
                        providing your username and your
                        password.</emphasis></para>
                    <para>
                        <literallayout class="monospaced">curl -X POST https://identity.api.rackspacecloud.com/v2.0/tokens -d
'{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' -H "Content-type: application/json"</literallayout>
                    </para>
                    <para> Successful authentication returns a token
                        which you can use as evidence that your
                        identity has already been authenticated. To
                        use the token, pass it to other services as an
                        <code>X-Auth-Token</code> header. </para>
                    <para> Authentication also returns a service
                        catalog, listing the endpoints you can use for
                        Cloud services. </para>
                </listitem>
                <listitem>
                    <para>Use the authentication token to send a GET
                        to a service you would like to use. Here is an
                        example of passing an authentication token to
                        the Cloud Files service, using the Cloud Files
                        service catalog endpoint that was returned
                        along with the token.</para>
                    <para><emphasis>You can use a token and a service endpoint to tell a service that your credentials are valid.</emphasis></para>
                    <para>
                        <literallayout class="monospaced">curl -X GET https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee
-H 'X-Auth-Token:11111111-aaaa-2222-bbbb-3333cccc4444' --verbose</literallayout>
                    </para>
                </listitem>
            </orderedlist>
        </para>
    <para>The rest of this API Developer Guide provides reference and background information,
        including sample requests and responses. To learn more about the Cloud Identity Service and
        this API, two good places to begin are with the fundamental ideas explained in <olink targetdoc="Identity-Developer-Guide"
            targetptr="Identity-Concpts">“Identity concepts”</olink> and the annotated
        request and response in <olink targetdoc="Identity-Developer-Guide"
            targetptr="Sample_Request_Response-d1e64">“Sample Authentication Request and
            Response”</olink> To see examples of authentication requests using different types of c
        credentials, see  <olink targetdoc="Identity-Developer-Guide" targetptr="Token_Calls"
            >“Tokens”</olink>.</para>
    <para security="writeronly">
        <!-- added then deleted this preparatory to 2012-05-16 republication; 
             leaving it hidden while people think -->
        Some of the operations described in this API Developer Guide
        are possible because we have implemented extensions to the
        core Identity API. Extensions are particularly relevant to
        operations on <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="User_Calls">“Users”</olink>.</para>
    <tip>
        <para>You can find language binding examples that can be modified to work with the Cloud
            Identity service in the <link
                xlink:href="http://docs.rackspace.com/sdks/guide/content/intro.html">Rackspace
                Software Development Kits</link>.</para>
    </tip>
    </section>
