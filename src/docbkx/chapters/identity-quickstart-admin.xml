<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!ENTITY % common SYSTEM "../../common/common.ent">
%common;
]>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="QuickStart-000">
        <title>Quick Start</title>
        <para>Every ReST request against Rackspace Cloud APIs requires an authentication 
            token generated by the &CIS;. The authentication token is returned 
            in response to a valid authentication request submitted with valid credentials. 
            The response also returns a service catalog that lists all services and 
            endpoints that a user can access with the authentication token provided. 
        </para>
    <para>To authenticate, submit a <code>POST
            /v2.0/tokens</code> request, presenting valid Rackspace
        service <emphasis>credentials</emphasis> in the message body
        to a Rackspace <emphasis>authentication endpoint</emphasis>. </para>
        <para>
        <emphasis role="bold">Get your credentials</emphasis>
    </para>
        <para> You can use either of two sets of credentials: <itemizedlist>
            <listitem>
                <para>your service's <code>username</code> and
                        <code>password</code></para>
            </listitem>
            <listitem>
                <para>your service's <code>username</code> and
                    <code>APIKey</code></para>
            </listitem>
        </itemizedlist>
    </para>
        <para>Your service's <code>username</code> and
            <code>password</code> are issued by the &CIS; team 
        for that service. If you do not have
        these credentials, submit a ticket to the Nebulous Operations
        team, asking them to create service credentials and establish
        a service catalog entry. </para>
    <para>You can get your API key from the Rackspace Cloud Control panel.<orderedlist>
            <listitem>
                <para>Log into the <link
                        xlink:href="https://mycloud.rackspace.com"
                        >Cloud Control panel</link>.</para>
            </listitem>
            <listitem>
                <para>On the upper-right side of the top navigation
                    pain, click your username.</para>
            </listitem>
            <listitem>
                <para>From the menu, select <guilabel>Account
                        Settings</guilabel>.</para>
            </listitem>
            <listitem>
                <para>In the Login Details section of the Account
                    Settings page, locate the <guilabel>API
                        Key</guilabel> field and click
                        <guilabel>Show</guilabel>.</para>
            </listitem>
            <listitem>
                <para>Copy the APIKey value and paste it into a text
                    editor of your choice.</para>
            </listitem>
            <listitem>
                <para>Click <guilabel>Hide</guilabel> to hide the
                    value of your API key.</para>
            </listitem>
        </orderedlist></para>
        <para>
        <emphasis role="bold">Choose your authentication
            endpoint</emphasis>
    </para>
        <para> You can use either of the following endpoints for
            authentication.<itemizedlist spacing="compact">
            <listitem>
                <para>US endpoint: <link
                        xlink:href="&ENDPOINT-US;"
                        >&ENDPOINT-US;</link>. </para>
            </listitem>
            <listitem>
                <para>UK endpoint: <link xlink:href="&ENDPOINT-UK;"
                        >&ENDPOINT-UK;</link>. </para>
            </listitem>
        </itemizedlist>
     
    </para>
        <para>
        <emphasis role="bold">Submit credentials to the authentication
            endpoint</emphasis>
    </para>
        <para>To authenticate, submit a <code>POST /v2.0/tokens</code>
        API request. You can submit the request </para>
        <para> You can use <link xlink:href="http://curl.haxx.se/"
            >cURL</link> to try the authentication process in two
        steps: get a token; send the token to a service.</para>
    <para>
        <orderedlist>
            <listitem>
                <para>Submit an authentication request to the &CIS; service endpoint to get 
                    an authentication token and service catalog.</para>
                <itemizedlist>
                    <listitem>
                    <para>Use your <parameter>username</parameter> and <parameter>password</parameter>:</para>
                        <programlisting language="bash" role="gutter: false"
                        ><?db-font-size 60%?><prompt>$</prompt> curl https://identity.api.rackspacecloud.com/v2.0/tokens  \
 -X POST \
 -d '{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' \
 -H "Content-type: application/json"</programlisting>
                    </listitem>
                    <listitem>
                        <para>Use your <parameter>username</parameter> and <parameter>API key</parameter>:</para>
                        <programlisting language="bash" role="gutter: false"
                        ><?db-font-size 60%?><prompt>$</prompt> curl https://identity.api.rackspacecloud.com/v2.0/tokens  \
 -X POST \
 -d '{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' \
 -H "Content-type: application/json"</programlisting>
                    </listitem>
                </itemizedlist>
                <para>Successful authentication returns a response
                    with a token attribute value that you can submit
                    in the <code>X-Auth-Token</code> header of all
                    Rackspace Cloud service API requests as evidence
                    that your identity has already been authenticated,
                    The response also provides a service catalog
                    listing the available services that you can access
                    with the token. </para>
            </listitem>
            <listitem>
                <para>Submit an API requests to any of the services
                    included in the Service catalog.</para>
                <para>The following example shows a cURL request to
                    get information about the Cloud Files service at
                    endpoint
                    &lt;code>https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee&lt;/code>
                    using the <code>X-Auth-Token</code> value to
                    authenticate to the service.</para>
                <para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 60%?><prompt>$</prompt> curl https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee  \
-X GET \
-H 'X-Auth-Token:vvvvvvvv-wwww-xxxx-yyyy-zzzzzzzzzzzz' --verbose </programlisting>
                </para>
            </listitem>
        </orderedlist>
    </para>
    <note><para>If a user account is enabled for multi-factor authentication, an
            additional step is required to obtain the authentication
            token. For details, see <link
                xlink:href="POST_authenticateWithMultiFactor_v2.0_tokens_Token_Calls.html"
                >Authenticate with multi-factor passcode
                credentials</link>. Multi-factor authentication is
            only available to Rackspace customers in the Early Access
            program. </para></note>
        <para condition="admin">To learn more about the &CIS; and
        &CIS;,  visit the following links:</para>
    <para>
        <itemizedlist>
            <listitem><para><olink
                    targetdoc="Identity-Admin-Developer-Guide"
                    targetptr="Token_Calls">“Authentication
                    tokens”</olink> (API reference for authentication
                token operations with XML and JSON
                examples.)</para></listitem>
            <listitem><para>
                <olink targetdoc="Identity-Admin-Developer-Guide"
                    targetptr="Identity-Concpts">Concepts</olink></para>
            </listitem>
        </itemizedlist>
        <itemizedlist>
            <listitem><para>
                <olink targetdoc="Identity-Admin-Developer-Guide"
                    targetptr="Sample_Request_Response-d1e64">“Sample
                    Authentication Request and Response”</olink>
            </para>
            </listitem>
            <listitem>
                <para>
                <olink targetdoc="Identity-Admin-Developer-Guide"
                    targetptr="API_Operations">“&CIS; API operations</olink> (information about all API operations for 
                using and managing the &CIS; API.
                </para>
            </listitem>
        </itemizedlist>
    </para>
    <tip>
        <para>You can find language binding examples that can be modified to work with the Cloud
            Identity service in the <link
                xlink:href="http://docs.rackspace.com/sdks/guide/content/intro.html">Rackspace
                Software Development Kits</link>.</para>
    </tip>
    <para security="writeronly">
        <!-- added then deleted this preparatory to 2012-05-16 republication; 
             leaving it hidden while people think -->
        Some of the operations described in this API Developer Guide
        are possible because we have implemented extensions to the
        core Identity API. Extensions are particularly relevant to
        operations on  <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="Group_Calls">“Groups”</olink>, <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="Impersonation_Calls">“Impersonations”</olink>,
            <olink targetdoc="Identity-Admin-Developer-Guide"
            targetptr="Role_Calls">“Roles”</olink>, <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="Secret_Calls">“Secret Questions and
            Answers”</olink>, <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="Token_Calls">“Tokens”</olink>, and  <olink
            targetdoc="Identity-Admin-Developer-Guide"
            targetptr="User_Calls">“Users”</olink>. </para>
    </section>
