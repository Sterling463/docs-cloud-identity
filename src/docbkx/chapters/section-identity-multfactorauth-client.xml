<!DOCTYPE section [
<!ENTITY % common SYSTEM "../../common/common.ent">
%common;
]>
  
  <section 
    xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xsdxt="http://docs.rackspacecloud.com/xsd-ext/v1.0"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="MFA__Ops">
    
  <title>Multi-factor authentication</title>
    <note>
    <para>Multi-factor authentication is currently available only to
    customers enrolled in the Early Access program for this feature.</para></note>
  
    <para>Multi-factor authentication is for Rackspace Cloud Customers who require a greater level of 
      security when accessing Rackspace Cloud resources. When multi-factor authentication is added to 
      user accounts, users have an additional layer of identity verification that offers various methods 
      to obtain the second factor for authentication. Additionally, Rackspace provides user administrators 
      with account level controls that can be configured to require all users within an organization to 
      use multi-factor authentication.</para>
    <para>With multi-factor authentication enabled, authentication is a two-step process:<orderedlist>
      <listitem>
        <para>A user submits an inital <command>POST tokens</command>
          request to the service endpoint, including either API key or
          password credentials.</para>
        <para>The response body returned by the Identity service includes an X-SessionId header and
          a request for additional credentials. The Identity service also sends an SMS text message
          with a passcode to the phone number associated with the account.</para>
      </listitem>
      <listitem>
        <para>To complete the authentication process, the user submits
          a second <command>POST tokens</command> request, including
          the SessionId header and passcode as credentials.</para>
        <para>If the credentials are valid, the Identity service returns an authentication response
          that includes the authentication token and a service catalog showing the available
          services and <glossterm baseform="endpoint">endpoints</glossterm> to access the API for each service.</para>
        <important><para>Multi-factor authentication is supported only by Rackspace Cloud
            Identity Service version 2.0 or later. User accounts set
            up for multi-factor authentication cannot authenticate by using 
            version 1.0 or 1.1 of the service.</para></important>
      </listitem>
    </orderedlist></para>
    <para><xref linkend="mfa_auth"/> shows the multi-factor authentication process flow. <figure xml:id="mfa_auth">
        <title>Multi-factor authentication process flow</title>
        <mediaobject>
          <imageobject>
            <imagedata format="png" 
              fileref="../figures/multifactor_auth_user.png"
              contentdepth="100%" contentwidth="100%" align="center"/>
          </imageobject>
        </mediaobject>         
      </figure></para>
    <para>Users interested in enabling multi-factor authentication must update their &CLOUD; user
    accounts to add a phone number that can be used in the authentication process, verify the phone,
    and enable their account for multi-factor authentication. This work can be completed from the Cloud Control panel 
    or by using the &CIS; API.</para>
    <para><xref
      linkend="mfa_workflow_setup"/> provides an overview of the
    work flow to complete these tasks.</para><figure xml:id="mfa_workflow_setup">
      <title>Multi-factor authentication: Workflow for setting up a
      user account </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../figures/multifactor_setup_user.png"
            format="PNG" align="center"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>For more information, see the following links:<itemizedlist>
      <listitem>
        <para><link xlink:href="mfa_pro">Multi-factor
            authentication set up, operation, and management using the
            API</link></para>
      </listitem>
      <listitem>
        <para><link
          xlink:href="http://ord.admin.kc.rakr.net/knowledge_center/article/multi-factor-authentication-from-the-cloud-control-panel"
          xlink:show="new">Using Multi-factor authentication from the Cloud Control
            panel </link>
        </para>
      </listitem>
      <listitem>
        <para><link xlink:href="Multifactor_Calls_client.html">Multi-factor operations API reference</link></para>
      </listitem>
    </itemizedlist></para>  
    <xi:include href="section-mfa-setup.xml"/>
    <xi:include href="section-mfa-auth.xml"/>
    <xi:include href="section-mfa-manage.xml"/>
  </section>
