

<!-- Rackspace Endpoints  -->
<!ENTITY ENDPOINT-IdentityGlobal "https://identity.api.rackspacecloud.com">
<!ENTITY ENDPOINT-IdentityVersion "https://identity.api.rackspacecloud.com/v2.0/">


<!-- Some entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">
<!ENTITY ampsymb "&#x26;">

<!-- graphic symbols -->

<!ENTITY CHECK '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="figures/Check_mark_23x20_02.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>

<!ENTITY ARROW '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="figures/Arrow_east.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>

<!-- Product names -->
<!ENTITY PRODNAME 'Rackspace Cloud Identity Service'>
<!ENTITY CLOUD 'Rackspace Cloud'>
<!ENTITY CIS 'Identity Service'>
<!ENTITY CAS 'Rackspace Cloud Authentication Service'>
<!ENTITY fgCS 'first generation Cloud Servers'>
<!ENTITY ngCS 'next generation Cloud Servers'>

<!-- Useful for describing APIs -->

<!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
<!ENTITY CODES       'Normal Response Code(s):'>
<!ENTITY ERROR_CODES 'Error Response Code(s):'>
<!ENTITY NO_REQUEST '<para xmlns="http://docbook.org/ns/docbook">
This operation does not require a request body.</para>'>
 
<!--A collection of common faults, these are pretty much expected in every request.-->

 <!ENTITY commonFaults
           '
        <response status="400">
             <doc title="Bad Request">The request is missing one or more elements, or the values of some 
                elements are invalid.</doc>
        </response>
        <response status="401">
            <doc title="Unauthorized">Yau are not authorized to complete this operation. This error can occur if the request is submitted with an invalid authentication token.</doc>
        </response>
        <response status="403">
            <doc title="Forbidden">The request was valid, but the server is refusing to respond because you do not have permission to access the requested resource. 
            Submit a request to your account administrator to determine how to gain access.</doc>
        </response>
        <response status="405">
            <doc title="Invalid Method">The method specified in the request is not valid for the resource identified in the request URI.</doc>
        </response>
        <response status="413">
            <doc title="Over Limit">The number of items returned is above the allowed limit.</doc>
        </response>
        <response status="503">
            <doc title="Service Fault">Service is not available.</doc>
        </response>
           '>
      <!--
          Faults on GET
      -->
     <!ENTITY getFaults
           '
        <response status="404">
             <doc title="Not Found">The requested resource was not found.</doc>
        </response>
           '>
           
<!-- Faults on POST/PUT -->

     <!ENTITY postPutFaults
           '
        <response status="415" xmlns="http://wadl.dev.java.net/2009/02">
            <doc title="Bad Media Type">Bad media type. This may result if the wrong media type is used in the API request. Check the content-type and accept headers included in the request.</doc>
        </response>
           '>
           
<!-- Faults on Multifactor Authentication Verify -->    

<!ENTITY MultifactorVerifyFaults
           '
        <response status="400">
        <doc title="Bad Request">This error is returned in these cases: The request could not be understood by the server due to malformed syntax. The phone has already been verified.</doc>
        </response>
        <response status="401">
           <doc title="Unauthorized">You are not authorized to complete this operation. This error can occur if 
           the request is submitted with an invalid authentication token.</doc>
        </response>
        <response status="403">
            <doc title="Forbidden">The request was valid, but the server is refusing to respond because you do not have permission to access the requested resource. 
            Submit a request to your account administrator to determine how to gain access.</doc>
        </response>
        <response status="405">
            <doc title="Invalid Method">The method specified in the request is not valid for the resource identified in the request URI.</doc>
        </response>
        <response status="503">
             <doc title="Service Fault">Service is not available.</doc>
        </response>
           '>
           
<!ENTITY AuthRespAttributes
    '
     <param name="access" style="plain" required="true" type="xsd:string">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
            <para>An <code>access</code> object that returns token, user, and service information upon successful authentication.</para>
        </wadl:doc>
     </param>
     
      <param name="token" style="plain" required="true" type="xsd:string">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
            <para>The <link xlink:href="Sample_Request_Response-d1e64.html#authTokenResp">token object</link> supplies a scoped authentication token that can 
            be used to access Rackspace Cloud services for the specified tenant.</para>
        </wadl:doc> 
     </param>
     
     <param name="user" style="plain" required="true" type="xsd:string">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                <para>A <link xlink:href="Sample_Request_Response-d1e64.html#authUserResp">user object</link> that returns the following information 
                about the user, if available for the account: id, name, assigned roles, default region, domain, multi-factor authentication status.
                </para>
        </wadl:doc>
    </param>
    
    <param name="serviceCatalog" style="plain" required="true" type="xsd:string">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
            <para>The <link xlink:href="Sample_Request_Response-d1e64.html#authSvccatResp">service catalog object</link> provides information about 
            each service available to the authenticated user along with the service endpoints for API requests.</para>
         </wadl:doc>
    </param>
    
    '>           
           
<!ENTITY UserAttributes 
   '
                  <param name="RAX-AUTH:defaultRegion" style="plain" type="string" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            Provides the ID for the default regional data center associated with the user account, if one exists.
                            Sample values include: <code>DFW</code>, <code>ORD</code>, or <code>LON</code>.</para> 
                        <para xmlns="http://www.w3.org/1999/xhtml">If a user account is associated with a default region, and the service catalog is available in 
                            multiple regions, service requests are directed to the region specified by <code>defaultRegion</code>. 
                            For example of services available in multiple regions, see 
                            <link xlink:href="Sample_Request_Response-d1e64.html">Sample Authentication Request and Response</link></para>
                        
                        <para>
                            Use the <link xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/POST_updateUser_v2.0_users__userId__.html">"Update user"</link> 
                            API operation to add, remove, or update the defaultRegion setting on an account. 
                        </para>               
                    </wadl:doc>
                </param>
                <param name="RAX-AUTH:domainID" style="plain" type="xsd:string" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            Returns the ID for the domain associated with the user account if one exists. 
                        </para>
                        <para>
                            A domain ID associates the user with a specific domain. The association can be 
                            established during account creation and update operations.
                        </para>
                        <para>
                            A domain establishes an administrative boundary for a customer and a container for customer tenants (accounts) and users.
                            Generally, the <code>domainId</code> value matches the value associated with the primary tenant ID 
                            for the &CLOUD; account.
                        </para>
                    </wadl:doc>
                </param>
                <param name="RAX-AUTH:multiFactorEnabled" style="plain" type="xsd:string" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            Returns the ID for the domain associated with the user account if one exists. 
                        </para>
                        <para>
                            A domain ID associates the user with a specific domain. The association can be 
                            established during account creation and update operations.
                        </para>
                        <para>
                            A domain establishes an administrative boundary for a customer and a container for customer tenants (accounts) and users.
                            Generally, the <code>domainId</code> value matches the value associated with the primary tenant ID 
                            for the &CLOUD; account.
                        </para>
                    </wadl:doc>
                </param>
                <param name="username" style="plain" type="xsd:string" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            The name of the user on the account. 
                        </para>
                    </wadl:doc>
                </param>
                <param name="email" style="plain" type="xsd:string" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            Returns the email address on the user account if one has been defined.</para>
                    </wadl:doc>
                </param>
                <param name="enabled" style="plain" type="boolean" required="false">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>
                            Indicates whether the user can authenticate to the &CIS;. If <code>enabled="false"</code>,
                            the user cannot authenticate. Typically, the <code>enabled</code> setting is set 
                            and stored by a back-end system integrated with &CIS;. To restore account access, 
                            work with the &CIS; System and user administrators to resolve any issues on the account.
                        </para>
                    </wadl:doc>
                </param>
                ' >
                
 <!ENTITY limitMarkerReqParameter 
 '
<param name="limit" style="query" required="false" type="xsd:int">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
            <para>
                Requests a specified page size of returned items from the query.
                Returns a number of items up to the specified limit value. Use the
                <code>limit</code> parameter to make an initial limited request
                and use the ID of the last-seen item from the response as the
                <code>marker</code> parameter value in a subsequent limited request.
             </para>
        </wadl:doc>
</param>
<param name="marker" style="query" required="false" type="xsd:string">
    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
        <para>
        Specifies the ID of the last-seen item. Use the <code>limit</code>
        parameter to make an initial limited request and use the ID of the
        last-seen item from the response as the <code>marker</code>
        parameter value in a subsequent limited request.
        </para>
    </wadl:doc>
    </param>
' >

<!ENTITY roleResponse 
'
<param name="id" style="plain" required="true" type="xsd:int">
    <wadl:doc xmlns="http://docbook.org/ns/docbook"
        xml:lang="EN">
        <para>The role ID.</para>
     </wadl:doc>
</param>

<param name="name" style="plain" required="true" type="xsd:string">
        <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
            <para>The role name.</para>
        </wadl:doc>
</param>
<param name="description" style="plain"
            required="true" type="xsd:string">
    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
        <para>The role description.</para>
    </wadl:doc>
</param>
<param name="serviceId" style="plain" required="true" type="xsd:string">
    <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
        <para>The id for the Rackspace Cloud service to which the role applies.</para>
    </wadl:doc>
</param>
<param name="RAX-AUTH:propagate" style="plain" required="false"
                    type="boolean">
                    <wadl:doc
                        xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>Indicates whether this role is assigned to an account owner (identity:user-admin) and 
                            automatically inherited by all account users (identity:default).
                        </para>
                    </wadl:doc>
                </param>
'>
                
<!ENTITY endpointTempResp
'
<param name="OS-KSCATALOG:endpointTemplates" style="plain" type="object">
                   <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>Object that provides the endpoint template collection for Rackspace Cloud services.</para>
                 </wadl:doc>
                 </param>
         <param name="endpointTemplate" style="plain" type="object">
                <wadl:doc xmlns="http://docbook.org/ns/docbook" xml:lang="EN">
                        <para>Object that provides the attributes for an endpoint template that has been added to the Rackspace Cloud environment.</para>
                 </wadl:doc>  
                 </param>          
<param name="region" style="plain" required="true" path="$.region" default="false" type="xsd:string">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>Indicates the data center for service hosting. Examples: <code>ORD</code>, 
                            <code>DFW</code>, <code>HKG</code>, <code>LON</code>, <code>SYN</code></para></wadl:doc>
                </param>
                <param name="global" style="plain" required="false" path="$.global" type="boolean">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN">
                        <para>Specifies whether the endpoint applies to all tenant users. If this value is 
                            <code>true</code> and the endpoint has been enabled, the Identity service automatically 
                            includes the endpoint in all service catalogs. If the value is <code>false</code>, the 
                            template only shows up when it is added to a tenant manually. The default value is <code>false</code>.
                        </para>
                    </wadl:doc>
                </param>
                <param name="default" style="plain" required="false" path="$.default" type="boolean">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN">
                        
                        <para>Indicates whether the endpoint template is a default endpoint that is added automatically when a 
                            user is created. The value defaults to <code>false</code>. You only need to specify this parameter if 
                            data center operating policies prevent you from using the global parameter to assign endpoints automatically across 
                            regions.
                        </para></wadl:doc>
                </param>
                <param name="type" style="plain" required="false" path="$.type" type="identity:ExtensibleServiceType">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN">
                        <para>Specifies the OpenStack-registered type for core Keystone services or extensions.
                            Examples of core service types: <code>compute</code>, <code>object-store</code>, 
                            <code>image</code>. Examples of extension types: <code>rax:database</code>, <code>rax:load-balancer</code>, 
                            <code>rax:monitor</code>.
                        </para>
                    </wadl:doc>
                </param>
                <param name="name" style="plain" required="false" path="$.name" type="xsd:string">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>Specifies the commercial name for the service, 
                            <code>Cloud Servers</code> for example.
                        </para></wadl:doc>
                </param>
                <param name="publicURL" style="plain" required="false" path="$.publicURL" type="xsd:anyURI">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>The URL that clients use to access the 
                            endpoint over the internet.
                        </para></wadl:doc>
                </param>
                <param name="internalURL" style="plain" required="false" path="$.internalURL" type="xsd:anyURI">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>The URL to use for communication between services. 
                            In general, this URL is used for communication between services 
                            over a high bandwidth, low latency, unmetered (free, no
                            bandwidth charges) network. For example, to avoid racking up 
                            bandwidth charges, use the internalURL to access a Cloud Files 
                            cluster from inside your Cloud Server VMs to ensure local communication that 
                            does not go over a public network.
                        </para></wadl:doc>
                </param>
                <param name="adminURL" style="plain" required="false" path="$.adminURL" type="xsd:anyURI">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>The URL for service administration. 
                            This URL is only shown to users with the appropriate rights. Customers 
                            should never see it. 
                        </para></wadl:doc>
                </param>
                <param name="RAX-AUTH:tenantAlias" style="plain" required="false" path="$.TenantAlias" default="{tenant}" type="xsd:string">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>Tenant alias to be concatenated to the endpoint. The default value is <code>{tenant}</code>
                            When this parameter is specified for endpointTemplate, it appends 
                            the pattern to an endpoint. Example values: <code>RAX-AUTH:tenantAlias: `{tenant}`</code>, 
                            <code>`NastPrefix{tenant}`</code>, or 
                            <code>``</code> (empty). If the value is blank, the pattern for a tenant id is not 
                            concatenated to the endpoint.
                        </para></wadl:doc>
                </param>
                <param name="enabled" style="plain" required="false" path="$.enabled" default="false" type="xsd:boolean">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>Indicates whether the endpoint template is activated (enabled). The default 
                            value is <code>false</code>. An endpoint template can only be added if it is enabled.
                        </para></wadl:doc>
                </param>
                <param name="versionId" style="plain" required="false" path="$.version" type="xsd:string">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook"
                        xml:lang="EN"><para>API Version level for the endpoint.
                        </para>
                    </wadl:doc>
                </param>
                <param name="versioninfo" style="plain" required="false" path="$.versioninfo" type="xsd:anyURI">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook">
                        <para>Specifies the URL that can be called to get information about the API version. 
                        </para>
                    </wadl:doc>
                </param>
                <param name="versionlist" style="plain" required="false" path="$.versionlist" type="xsd:anyURI">
                    <wadl:doc xmlns="http://docbook.org/ns/docbook">
                        <para>Specifies the URL that can be called to determine what API versions are supported at the endpoint. 
                        </para>
                    </wadl:doc>
                </param>      
'>